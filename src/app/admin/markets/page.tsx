/* eslint-disable @typescript-eslint/no-explicit-any */`n/* eslint-disable @typescript-eslint/no-unused-vars */`n"use client";`n`nimport { useState, useEffect } from "react";`nimport Link from "next/link";`nimport { Button } from "@/components/ui/button";`nimport { Badge } from "@/components/ui/badge";`nimport { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";`nimport { Input } from "@/components/ui/input";`nimport {`n  Select,`n  SelectContent,`n  SelectItem,`n  SelectTrigger,`n  SelectValue,`n} from "@/components/ui/select";`nimport {`n  ArrowLeft,`n  Plus,`n  Settings,`n  Download,`n  RefreshCw,`n  CheckCircle,`n  AlertTriangle,`n  Search,`n  TrendingUp,`n  Users,`n  Clock,`n  ExternalLink,`n  Eye,`n  Calendar,`n  Wallet,`n  Target,`n  Activity,`n  DollarSign,`n  Filter,`n} from "lucide-react";`nimport { toast } from "sonner";`nimport * as fcl from "@onflow/fcl";`nimport flowConfig from "@/lib/flow/config";`n`n// Import your Credit Predict scripts`nimport {`n  getAllMarkets,`n  getMarketById,`n  getPlatformStats,`n  getContractInfo,`n} from "@/lib/flow-wager-scripts";`n`n// Import your existing types`nimport type { Market } from "@/types/market";`nimport {`n  MarketCategoryLabels,`n  MarketStatus,`n  MarketCategory,`n} from "@/types/market";`n`n// Your existing auth hook`nimport { useAuth } from "@/providers/auth-provider";`n`nexport default function AdminMarketsPage() {`n  const { user, isAuthenticated, isLoading: authLoading } = useAuth();`n`n  // State management`n  const [markets, setMarkets] = useState<Market[]>([]);`n  const [marketsLoading, setMarketsLoading] = useState(true);`n  const [marketsError, setMarketsError] = useState<string | null>(null);`n  const [isRefreshing, setIsRefreshing] = useState(false);`n  const [lastAction, setLastAction] = useState<string | null>(null);`n  const [platformStats, setPlatformStats] = useState<any>(null);`n  const [contractInfo, setContractInfo] = useState<any>(null);`n`n  // Filter and search state`n  const [searchQuery, setSearchQuery] = useState("");`n  const [statusFilter, setStatusFilter] = useState<string>("all");`n  const [categoryFilter, setCategoryFilter] = useState<string>("all");`n  const [selectedMarkets, setSelectedMarkets] = useState<string[]>([]);`n`n  // Simple admin check`n  const isAdmin = isAuthenticated && user?.addr;`n`n  // Helper function to convert numeric status to string`n  const getStatusName = (status: number): string => {`n    switch (status) {`n      case 0:`n        return "Active";`n      case 1:`n        return "Resolved";`n      case 2:`n        return "Cancelled";`n      default:`n        return "Unknown";`n    }`n  };`n`n  // Initialize Flow configuration`n  useEffect(() => {`n    const initFlow = async () => {`n      try {`n        flowConfig();`n        console.log("Flow configuration initialized for admin markets");`n      } catch (error) {`n        console.error("Failed to initialize Flow configuration:", error);`n      }`n    };`n`n    initFlow();`n  }, []);`n`n  // Fetch markets and platform stats using your Flow scripts`n  useEffect(() => {`n    const fetchData = async () => {`n      if (!isAuthenticated) return;`n`n      try {`n        setMarketsLoading(true);`n        setMarketsError(null);`n`n        // Fetch all markets using your script`n        const allMarketsScript = await getAllMarkets();`n        const allMarkets = await fcl.query({`n          cadence: allMarketsScript,`n        });`n`n        console.log("All markets from contract:", allMarkets);`n        setMarkets(allMarkets || []);`n`n        // Fetch platform stats using your script`n        const platformStatsScript = await getPlatformStats();`n        const stats = await fcl.query({`n          cadence: platformStatsScript,`n        });`n`n        console.log("Platform stats:", stats);`n        setPlatformStats(stats);`n`n        // Fetch contract info using your script`n        const contractInfoScript = await getContractInfo();`n        const contractData = await fcl.query({`n          cadence: contractInfoScript,`n        });`n`n        console.log("Contract info:", contractData);`n        setContractInfo(contractData);`n      } catch (error) {`n        console.error("Failed to fetch data:", error);`n        setMarketsError("Failed to load data from contract");`n        toast.error("Failed to load markets from Flow blockchain");`n      } finally {`n        setMarketsLoading(false);`n      }`n    };`n`n    if (isAuthenticated) {`n      fetchData();`n    }`n  }, [isAuthenticated]);`n`n  const handleRefresh = async () => {`n    setIsRefreshing(true);`n    setLastAction("refresh");`n`n    try {`n      // Re-fetch all data`n      const allMarketsScript = await getAllMarkets();`n      const allMarkets = await fcl.query({`n        cadence: allMarketsScript,`n      });`n`n      const platformStatsScript = await getPlatformStats();`n      const stats = await fcl.query({`n        cadence: platformStatsScript,`n      });`n`n      setMarkets(allMarkets || []);`n      setPlatformStats(stats);`n`n      toast.success("Markets refreshed successfully");`n    } catch (error) {`n      console.error("Refresh failed:", error);`n      toast.error("Failed to refresh markets");`n    } finally {`n      setIsRefreshing(false);`n      setLastAction(null);`n    }`n  };`n`n  const handleExportData = async () => {`n    setLastAction("export");`n`n    try {`n      // Export market data as JSON`n      const exportData = {`n        markets,`n        platformStats,`n        contractInfo,`n        exportedAt: new Date().toISOString(),`n        contractAddress: process.env.NEXT_PUBLIC_Credit Predict_TESTNET_CONTRACT,`n      };`n`n      const blob = new Blob([JSON.stringify(exportData, null, 2)], {`n        type: "application/json",`n      });`n`n      const url = URL.createObjectURL(blob);`n      const a = document.createElement("a");`n      a.href = url;`n      a.download = `flow-wager-markets-${Date.now()}.json`;`n      document.body.appendChild(a);`n      a.click();`n      document.body.removeChild(a);`n      URL.revokeObjectURL(url);`n`n      toast.success("Market data exported successfully");`n    } catch (error) {`n      console.error("Export failed:", error);`n      toast.error("Failed to export data");`n    } finally {`n      setLastAction(null);`n    }`n  };`n`n  // Filter markets based on search and filters`n  const filteredMarkets = markets.filter((market: Market) => {`n    const matchesSearch =`n      market.title.toLowerCase().includes(searchQuery.toLowerCase()) ||`n      market.creator.toLowerCase().includes(searchQuery.toLowerCase());`n`n    const marketStatusString = getStatusName(typeof market.status === 'number' ? market.status : 0);`n    const matchesStatus =`n      statusFilter === "all" || marketStatusString === statusFilter;`n`n    const matchesCategory =`n      categoryFilter === "all" || market.category.toString() === categoryFilter;`n`n    return matchesSearch && matchesStatus && matchesCategory;`n  });`n`n  // Calculate summary stats`n  const summaryStats = {`n    total: markets.length,`n    active: markets.filter((m) => getStatusName(typeof m.status === 'number' ? m.status : 0) === "Active").length,`n    resolved: markets.filter((m) => getStatusName(typeof m.status === 'number' ? m.status : 0) === "Resolved").length,`n    cancelled: markets.filter((m) => getStatusName(typeof m.status === 'number' ? m.status : 0) === "Cancelled").length,`n    totalVolume: markets.reduce(`n      (sum, m) => sum + parseFloat(m.totalPool || "0"),`n      0`n    ),`n    pendingResolution: markets.filter((m) => {`n      const now = Date.now() / 1000;`n      const endTime = parseFloat(m.endTime);`n      return endTime < now && getStatusName(typeof m.status === 'number' ? m.status : 0) === "Active";`n    }).length,`n  };`n`n  // Utility functions`n  const formatCurrency = (value: string | number): string => {`n    const numValue = typeof value === "string" ? parseFloat(value) : value;`n    if (isNaN(numValue)) return "0";`n    if (numValue >= 1000000) return `${(numValue / 1000000).toFixed(1)}M`;`n    if (numValue >= 1000) return `${(numValue / 1000).toFixed(1)}K`;`n    return numValue.toFixed(2);`n  };`n`n  const formatDate = (timestamp: string): string => {`n    const timestampMs = parseFloat(timestamp) * 1000;`n    if (isNaN(timestampMs)) return "Invalid date";`n`n    return new Date(timestampMs).toLocaleDateString("en-US", {`n      year: "numeric",`n      month: "short",`n      day: "numeric",`n      hour: "2-digit",`n      minute: "2-digit",`n    });`n  };`n`n  const getStatusBadge = (status: string | number) => {`n    // Convert numeric status to string if needed`n    const statusString = typeof status === 'number' ? getStatusName(status) : status;`n    `n    switch (statusString) {`n      case "Active":`n        return (`n          <Badge className="bg-green-500/20 text-green-400 border-green-500/30">`n            Active`n          </Badge>`n        );`n      case "Resolved":`n        return (`n          <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">`n            Resolved`n          </Badge>`n        );`n      case "Cancelled":`n        return (`n          <Badge className="bg-red-500/20 text-red-400 border-red-500/30">`n            Cancelled`n          </Badge>`n        );`n      default:`n        return <Badge variant="secondary">{statusString}</Badge>;`n    }`n  };`n`n  // Show loading while checking authentication`n  if (authLoading) {`n    return (`n      <div className="min-h-screen bg-[#0A0C14] flex items-center justify-center">`n        <div className="text-center">`n          <div className="animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-b-transparent mx-auto mb-4"></div>`n          <p className="text-gray-400">Checking authentication...</p>`n        </div>`n      </div>`n    );`n  }`n`n  // Show authentication prompt if not logged in`n  if (!isAuthenticated) {`n    return (`n      <div className="min-h-screen bg-[#0A0C14] flex items-center justify-center p-4">`n        <Card className="w-full max-w-md bg-gray-900 border-gray-700">`n          <CardHeader>`n            <CardTitle className="flex items-center gap-2 text-white">`n              <Wallet className="h-5 w-5" />`n              Authentication Required`n            </CardTitle>`n          </CardHeader>`n          <CardContent className="space-y-4">`n            <p className="text-gray-400">`n              You need to connect your wallet to access the admin panel.`n            </p>`n            <Button`n              onClick={() => (window.location.href = "/markets")}`n              className="w-full bg-blue-600 hover:bg-blue-700"`n            >`n              Go to Markets`n            </Button>`n          </CardContent>`n        </Card>`n      </div>`n    );`n  }`n`n  return (`n    <div className="min-h-screen bg-[#0A0C14] text-white">`n      <div className="container mx-auto px-4 py-8 space-y-8">`n        {/* Header */}`n        <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">`n          <div className="flex items-center space-x-4">`n            <Button`n              variant="outline"`n              size="sm"`n              asChild`n              className="border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n            >`n              <Link href="/admin">`n                <ArrowLeft className="h-4 w-4 mr-2" />`n                Back to Admin`n              </Link>`n            </Button>`n            <div>`n              <h1 className="text-4xl font-bold text-white">`n                Market Management`n              </h1>`n              <p className="text-gray-400">`n                Manage all prediction markets on the Flow blockchain`n              </p>`n              <div className="flex items-center space-x-2 mt-2">`n                <Badge className="bg-green-500/20 text-green-400 border-green-500/30">`n                  Admin Panel`n                </Badge>`n                <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">`n                  <Activity className="h-3 w-3 mr-1" />`n                  Live Contract Data`n                </Badge>`n              </div>`n            </div>`n          </div>`n        </div>`n`n        {/* Error Alert */}`n        {marketsError && (`n          <Card className="border-red-500 bg-red-900/20 backdrop-blur">`n            <CardContent className="p-4">`n              <div className="flex items-center gap-2 text-red-400">`n                <AlertTriangle className="h-4 w-4" />`n                <span>Error: {marketsError}</span>`n              </div>`n            </CardContent>`n          </Card>`n        )}`n`n        {/* Summary Stats */}`n        <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">`n          <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n            <CardContent className="p-4">`n              <div className="flex items-center justify-between">`n                <div>`n                  <p className="text-sm text-gray-400">Total Markets</p>`n                  <p className="text-2xl font-bold text-white">`n                    {summaryStats.total}`n                  </p>`n                </div>`n                <Target className="h-8 w-8 text-[#9b87f5]" />`n              </div>`n            </CardContent>`n          </Card>`n`n          <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n            <CardContent className="p-4">`n              <div className="flex items-center justify-between">`n                <div>`n                  <p className="text-sm text-gray-400">Active</p>`n                  <p className="text-2xl font-bold text-white">`n                    {summaryStats.active}`n                  </p>`n                </div>`n                <CheckCircle className="h-8 w-8 text-green-400" />`n              </div>`n            </CardContent>`n          </Card>`n`n          <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n            <CardContent className="p-4">`n              <div className="flex items-center justify-between">`n                <div>`n                  <p className="text-sm text-gray-400">Pending Resolution</p>`n                  <p className="text-2xl font-bold text-white">`n                    {summaryStats.pendingResolution}`n                  </p>`n                </div>`n                <AlertTriangle className="h-8 w-8 text-orange-400" />`n              </div>`n            </CardContent>`n          </Card>`n`n          <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n            <CardContent className="p-4">`n              <div className="flex items-center justify-between">`n                <div>`n                  <p className="text-sm text-gray-400">Resolved</p>`n                  <p className="text-2xl font-bold text-white">`n                    {summaryStats.resolved}`n                  </p>`n                </div>`n                <CheckCircle className="h-8 w-8 text-blue-400" />`n              </div>`n            </CardContent>`n          </Card>`n`n          <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n            <CardContent className="p-4">`n              <div className="flex items-center justify-between">`n                <div>`n                  <p className="text-sm text-gray-400">Total Volume</p>`n                  <p className="text-2xl font-bold text-white">`n                    {formatCurrency(summaryStats.totalVolume)}`n                  </p>`n                  <p className="text-xs text-gray-400">FLOW</p>`n                </div>`n                <DollarSign className="h-8 w-8 text-yellow-400" />`n              </div>`n            </CardContent>`n          </Card>`n`n          <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n            <CardContent className="p-4">`n              <div className="flex items-center justify-between">`n                <div>`n                  <p className="text-sm text-gray-400">Total Users</p>`n                  <p className="text-2xl font-bold text-white">`n                    {platformStats?.totalUsers || "0"}`n                  </p>`n                </div>`n                <Users className="h-8 w-8 text-[#9b87f5]" />`n              </div>`n            </CardContent>`n          </Card>`n        </div>`n`n        {/* Action Bar */}`n        <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n          <CardContent className="p-4">`n            <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">`n              <div className="flex items-center space-x-4">`n                <div className="flex items-center space-x-2">`n                  <Activity className="h-5 w-5 text-[#9b87f5]" />`n                  <span className="font-medium text-white">Market Operations</span>`n                </div>`n                <div className="text-sm text-gray-400">`n                  Live data from contract:{" "}`n                  {process.env.NEXT_PUBLIC_Credit Predict_TESTNET_CONTRACT}`n                </div>`n              </div>`n`n              <div className="flex items-center space-x-2">`n                <Button`n                  variant="outline"`n                  size="sm"`n                  onClick={handleRefresh}`n                  disabled={isRefreshing}`n                  className="border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n                >`n                  <RefreshCw`n                    className={`h-4 w-4 mr-2 ${`n                      isRefreshing ? "animate-spin" : ""`n                    }`}`n                  />`n                  Refresh`n                </Button>`n                <Button`n                  variant="outline"`n                  size="sm"`n                  asChild`n                  className="border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n                >`n                  <Link href="/admin/resolve">`n                    <CheckCircle className="h-4 w-4 mr-2" />`n                    Resolve Markets`n                  </Link>`n                </Button>`n                <Button size="sm" asChild className="bg-gradient-to-r from-[#9b87f5] to-[#8b5cf6] hover:from-[#8b5cf6] hover:to-[#7c3aed] text-white">`n                  <Link href="/admin/create">`n                    <Plus className="h-4 w-4 mr-2" />`n                    Create Market`n                  </Link>`n                </Button>`n              </div>`n            </div>`n          </CardContent>`n        </Card>`n`n        {/* Filters and Search */}`n        <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n          <CardContent className="p-4">`n            <div className="flex flex-col md:flex-row gap-4">`n              <div className="flex-1">`n                <div className="relative">`n                  <Search className="absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400" />`n                  <Input`n                    placeholder="Search markets by title or creator..."`n                    value={searchQuery}`n                    onChange={(e) => setSearchQuery(e.target.value)}`n                    className="pl-9 bg-[#0A0C14] border-gray-700 text-white placeholder:text-gray-400 focus:border-[#9b87f5]"`n                  />`n                </div>`n              </div>`n`n              <Select value={statusFilter} onValueChange={setStatusFilter}>`n                <SelectTrigger className="w-full md:w-48 bg-[#0A0C14] border-gray-700 text-white">`n                  <SelectValue placeholder="Filter by status" />`n                </SelectTrigger>`n                <SelectContent className="bg-[#0A0C14] border-gray-700">`n                  <SelectItem value="all">All Statuses</SelectItem>`n                  <SelectItem value="Active">Active</SelectItem>`n                  <SelectItem value="Resolved">Resolved</SelectItem>`n                  <SelectItem value="Cancelled">Cancelled</SelectItem>`n                </SelectContent>`n              </Select>`n`n              <Select value={categoryFilter} onValueChange={setCategoryFilter}>`n                <SelectTrigger className="w-full md:w-48 bg-[#0A0C14] border-gray-700 text-white">`n                  <SelectValue placeholder="Filter by category" />`n                </SelectTrigger>`n                <SelectContent className="bg-[#0A0C14] border-gray-700">`n                  <SelectItem value="all">All Categories</SelectItem>`n                  {Object.entries(MarketCategoryLabels).map(([key, label]) => (`n                    <SelectItem key={key} value={key}>`n                      {label}`n                    </SelectItem>`n                  ))}`n                </SelectContent>`n              </Select>`n            </div>`n          </CardContent>`n        </Card>`n`n        {/* Markets List */}`n        <Card className="bg-gradient-to-br from-[#1A1F2C] to-[#151923] border-gray-800/50">`n          <CardHeader>`n            <CardTitle className="text-white flex items-center justify-between">`n              <span>Markets ({filteredMarkets.length})</span>`n              <div className="flex items-center space-x-2">`n                <Button`n                  variant="outline"`n                  size="sm"`n                  onClick={handleExportData}`n                  disabled={lastAction === "export"}`n                  className="border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n                >`n                  <Download className="h-4 w-4 mr-2" />`n                  Export Data`n                </Button>`n              </div>`n            </CardTitle>`n          </CardHeader>`n          <CardContent>`n            {marketsLoading ? (`n              <div className="text-center py-8">`n                <div className="animate-spin rounded-full h-8 w-8 border-2 border-[#9b87f5] border-b-transparent mx-auto mb-2" />`n                <p className="text-gray-400">`n                  Loading markets from Flow blockchain...`n                </p>`n              </div>`n            ) : filteredMarkets.length === 0 ? (`n              <div className="text-center py-8 text-gray-400">`n                <Target className="h-8 w-8 mx-auto mb-2 opacity-50" />`n                <p>No markets found matching your criteria.</p>`n              </div>`n            ) : (`n              <div className="space-y-4">`n                {filteredMarkets.map((market: Market) => (`n                  <div`n                    key={market.id}`n                    className="p-4 border border-gray-700 rounded-lg hover:bg-[#0A0C14]/50 transition-colors"`n                  >`n                    <div className="flex items-start justify-between mb-3">`n                      <div className="flex-1">`n                        <div className="flex items-center space-x-2 mb-2">`n                          {getStatusBadge(market.status)}`n                          <Badge`n                            variant="outline"`n                            className="border-gray-600 text-gray-300"`n                          >`n                            {`n                              MarketCategoryLabels[market.category as MarketCategory] ||`n                              "Unknown"`n                            }`n                          </Badge>`n                          <span className="text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded">`n                            #{market.id}`n                          </span>`n                        </div>`n                        <h3 className="font-medium text-white mb-2 line-clamp-2">`n                          {market.title}`n                        </h3>`n                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">`n                          <div className="flex items-center gap-1">`n                            <TrendingUp className="h-3 w-3 text-gray-400" />`n                            <span className="text-gray-400">Pool:</span>`n                            <span className="text-white">`n                              {formatCurrency(market.totalPool)} FLOW`n                            </span>`n                          </div>`n                          <div className="flex items-center gap-1">`n                            <Users className="h-3 w-3 text-gray-400" />`n                            <span className="text-gray-400">Creator:</span>`n                            <span className="text-white font-mono text-xs">`n                              {market.creator.slice(0, 6)}...`n                              {market.creator.slice(-4)}`n                            </span>`n                          </div>`n                          <div className="flex items-center gap-1">`n                            <Clock className="h-3 w-3 text-gray-400" />`n                            <span className="text-gray-400">Ends:</span>`n                            <span className="text-white">`n                              {formatDate(market.endTime)}`n                            </span>`n                          </div>`n                          <div className="flex items-center gap-1">`n                            <Calendar className="h-3 w-3 text-gray-400" />`n                            <span className="text-gray-400">Created:</span>`n                            <span className="text-white">`n                              {formatDate(market.createdAt)}`n                            </span>`n                          </div>`n                        </div>`n                      </div>`n`n                      <div className="flex items-center space-x-2 ml-4">`n                        <Button`n                          variant="outline"`n                          size="sm"`n                          asChild`n                          className="border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n                        >`n                          <Link href={`/markets/${market.id}`} target="_blank">`n                            <Eye className="h-4 w-4 mr-2" />`n                            View`n                          </Link>`n                        </Button>`n                        <Button`n                          variant="outline"`n                          size="sm"`n                          asChild`n                          className="border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n                        >`n                          <Link href={`/markets/${market.id}`} target="_blank">`n                            <ExternalLink className="h-4 w-4" />`n                          </Link>`n                        </Button>`n                      </div>`n                    </div>`n`n                    {/* Market Options */}`n                    <div className="grid grid-cols-2 gap-4 mt-3 pt-3 border-t border-gray-700">`n                      <div className="flex items-center justify-between p-2 bg-green-900/20 border border-green-700/50 rounded">`n                        <span className="text-sm text-green-300">{market.optionA}</span>`n                        <span className="text-sm text-green-400">`n                          {parseFloat(market.totalOptionAShares).toLocaleString()}`n                        </span>`n                      </div>`n                      <div className="flex items-center justify-between p-2 bg-blue-900/20 border border-blue-700/50 rounded">`n                        <span className="text-sm text-blue-300">{market.optionB}</span>`n                        <span className="text-sm text-blue-400">`n                          {parseFloat(market.totalOptionBShares).toLocaleString()}`n                        </span>`n                      </div>`n                    </div>`n                  </div>`n                ))}`n              </div>`n            )}`n          </CardContent>`n        </Card>`n`n        {/* Quick Actions */}`n        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">`n          <Button`n            variant="outline"`n            className="h-16 flex-col space-y-2 border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n            asChild`n          >`n            <Link href="/admin/create">`n              <Plus className="h-6 w-6" />`n              <span>Create Market</span>`n            </Link>`n          </Button>`n`n          <Button`n            variant="outline"`n            className="h-16 flex-col space-y-2 border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n            asChild`n          >`n            <Link href="/admin/resolve">`n              <CheckCircle className="h-6 w-6" />`n              <span>Resolve Markets</span>`n            </Link>`n          </Button>`n`n          <Button`n            variant="outline"`n            className="h-16 flex-col space-y-2 border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n            onClick={handleExportData}`n            disabled={lastAction === "export"}`n          >`n            <Download className="h-6 w-6" />`n            <span>Export Data</span>`n          </Button>`n`n          <Button`n            variant="outline"`n            className="h-16 flex-col space-y-2 border-gray-700 text-gray-300 hover:bg-[#1A1F2C] hover:text-white"`n            asChild`n          >`n            <Link href="/admin">`n              <Settings className="h-6 w-6" />`n              <span>Admin Dashboard</span>`n            </Link>`n          </Button>`n        </div>`n`n        {/* Status Message */}`n        {lastAction && (`n          <Card className="border-blue-500 bg-blue-900/20 backdrop-blur">`n            <CardContent className="p-4">`n              <div className="flex items-center gap-2 text-blue-400">`n                <div className="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"></div>`n                <span>`n                  {lastAction === "refresh" &&`n                    "Refreshing markets from blockchain..."}`n                  {lastAction === "export" && "Exporting market data..."}`n                  {lastAction && !["refresh", "export"].includes(lastAction) && "Processing..."}`n                </span>`n              </div>`n            </CardContent>`n          </Card>`n        )}`n      </div>`n    </div>`n  );`n}