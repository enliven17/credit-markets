// src/lib/flow/trading-queries.ts`nimport * as fcl from "@onflow/fcl";`nimport flowConfig from "@/lib/flow/config";`nimport {`n  GET_MARKET_TRADES,`n  GET_USER_POSITIONS,`n  GET_MARKET_COMMENTS,`n  GET_MARKET_PRICE_HISTORY,`n} from "@/lib/flow/scripts";`n`nconst initConfig = async () => {`n  flowConfig();`n};`n`nexport const getMarketTrades = async (marketId: number, limit: number = 50) => {`n  try {`n    await initConfig();`n    `n    const trades = await fcl.query({`n      cadence: GET_MARKET_TRADES,`n      args: (arg, type) => [`n        arg(marketId.toString(), type.UInt64),`n        arg(limit.toString(), type.UInt64)`n      ]`n    });`n`n    return trades || [];`n  } catch (error) {`n    console.error(`Failed to fetch trades for market ${marketId}:`, error);`n    // Return mock data for now`n    return [];`n  }`n};`n`nexport const getUserPosition = async (address: string, marketId: number) => {`n  try {`n    await initConfig();`n    `n    const position = await fcl.query({`n      cadence: GET_USER_POSITIONS,`n      args: (arg, type) => [`n        arg(address, type.Address),`n        arg(marketId.toString(), type.UInt64)`n      ]`n    });`n`n    return position;`n  } catch (error) {`n    console.error(`Failed to fetch user position for ${address} in market ${marketId}:`, error);`n    return null;`n  }`n};`n`nexport const getMarketComments = async (marketId: number) => {`n  try {`n    await initConfig();`n    `n    const comments = await fcl.query({`n      cadence: GET_MARKET_COMMENTS,`n      args: (arg, type) => [arg(marketId.toString(), type.UInt64)]`n    });`n`n    return comments || [];`n  } catch (error) {`n    console.error(`Failed to fetch comments for market ${marketId}:`, error);`n    // Return mock data for now`n    return [];`n  }`n};`n`nexport const getMarketPriceHistory = async (marketId: number, timeframe: number = 24) => {`n  try {`n    await initConfig();`n    `n    const priceHistory = await fcl.query({`n      cadence: GET_MARKET_PRICE_HISTORY,`n      args: (arg, type) => [`n        arg(marketId.toString(), type.UInt64),`n        arg(timeframe.toString(), type.UInt64)`n      ]`n    });`n`n    return priceHistory || [];`n  } catch (error) {`n    console.error(`Failed to fetch price history for market ${marketId}:`, error);`n    return [];`n  }`n};